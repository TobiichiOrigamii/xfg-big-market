24-10-24.00:26:54.382 [main            ] INFO  RaffleActivityControllerTest - Starting RaffleActivityControllerTest using Java 19.0.1 on Legion-R9000P with PID 28788 (started by lenovo in E:\Code\Java\big-market\big-market-app)
24-10-24.00:26:54.383 [main            ] INFO  RaffleActivityControllerTest - The following 1 profile is active: "dev"
24-10-24.00:26:55.611 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-10-24.00:26:55.614 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-10-24.00:26:55.669 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
24-10-24.00:26:57.228 [main            ] INFO  Version                - Redisson 3.23.4
24-10-24.00:26:57.738 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:26:57.760 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:27:02.210 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-10-24.00:27:02.311 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [192.168.236.132:5672]
24-10-24.00:27:02.454 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#dd9de63:0/SimpleConnection@c770b57 [delegate=amqp://origami@192.168.236.132:5672/, localPort= 12027]
24-10-24.00:27:02.647 [main            ] INFO  RaffleActivityControllerTest - Started RaffleActivityControllerTest in 8.762 seconds (JVM running for 9.713)
24-10-24.00:27:03.099 [main            ] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-10-24.00:27:03.139 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:27:03.534 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:27:03.641 [main            ] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-10-24.00:27:03.867 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0000","data":false,"info":"成功"}
24-10-24.00:27:03.887 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:27:03.888 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:27:03.891 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:27:04.644 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:27:04.654 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:27:04.655 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:27:04.657 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:27:04.658 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:27:04.658 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:27:21.979 [main            ] INFO  RaffleActivityControllerTest - Starting RaffleActivityControllerTest using Java 19.0.1 on Legion-R9000P with PID 29836 (started by lenovo in E:\Code\Java\big-market\big-market-app)
24-10-24.00:27:21.980 [main            ] INFO  RaffleActivityControllerTest - The following 1 profile is active: "dev"
24-10-24.00:27:23.067 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-10-24.00:27:23.070 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-10-24.00:27:23.126 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
24-10-24.00:27:24.516 [main            ] INFO  Version                - Redisson 3.23.4
24-10-24.00:27:24.926 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:27:24.945 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:27:28.835 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-10-24.00:27:28.990 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [192.168.236.132:5672]
24-10-24.00:27:29.045 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#33399052:0/SimpleConnection@55731ccd [delegate=amqp://origami@192.168.236.132:5672/, localPort= 12057]
24-10-24.00:27:29.186 [main            ] INFO  RaffleActivityControllerTest - Started RaffleActivityControllerTest in 7.661 seconds (JVM running for 8.49)
24-10-24.00:27:29.633 [main            ] INFO  RaffleActivityController - 查询用户活动账户信息开始 userId:xiaofuge activityId:100301
24-10-24.00:27:29.683 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:27:29.892 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:27:30.020 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:27:30.061 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:27:30.266 [main            ] INFO  RaffleActivityController - 查询用户活动账户信息完成 userId:xiaofuge activityId:100301 DTO:{"dayCount":0,"dayCountSurplus":0,"monthCount":0,"monthCountSurplus":0,"totalCount":0,"totalCountSurplus":0}
24-10-24.00:27:30.279 [main            ] INFO  RaffleActivityControllerTest - 请求参数：{"activityId":100301,"userId":"xiaofuge"}
24-10-24.00:27:30.285 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0000","data":{"dayCount":0,"dayCountSurplus":0,"monthCount":0,"monthCountSurplus":0,"totalCount":0,"totalCountSurplus":0},"info":"成功"}
24-10-24.00:27:30.316 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:27:30.321 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:27:30.325 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:27:31.157 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:27:31.171 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:27:31.171 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:27:31.174 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:27:31.174 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:27:31.174 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:27:44.163 [main            ] INFO  RaffleStrategyControllerTest - Starting RaffleStrategyControllerTest using Java 19.0.1 on Legion-R9000P with PID 25952 (started by lenovo in E:\Code\Java\big-market\big-market-app)
24-10-24.00:27:44.164 [main            ] INFO  RaffleStrategyControllerTest - The following 1 profile is active: "dev"
24-10-24.00:27:45.220 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-10-24.00:27:45.223 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-10-24.00:27:45.276 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
24-10-24.00:27:46.554 [main            ] INFO  Version                - Redisson 3.23.4
24-10-24.00:27:46.995 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:27:47.014 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:27:51.260 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-10-24.00:27:51.366 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [192.168.236.132:5672]
24-10-24.00:27:51.409 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#dd9de63:0/SimpleConnection@24f77077 [delegate=amqp://origami@192.168.236.132:5672/, localPort= 12098]
24-10-24.00:27:51.532 [main            ] INFO  RaffleStrategyControllerTest - Started RaffleStrategyControllerTest in 7.856 seconds (JVM running for 8.742)
24-10-24.00:27:51.974 [main            ] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 activityId: 100301
24-10-24.00:27:52.039 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:27:52.248 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:27:52.291 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:27:52.319 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:27:52.612 [main            ] ERROR RaffleStrategyController - 查询抽奖策略权重规则配置失败 userId:origami activityId：100301
java.lang.NullPointerException: Cannot invoke "String.split(String)" because "this.ruleValue" is null
	at com.origamii.domain.strategy.model.entity.StrategyRuleEntity.getRuleWeightValues(StrategyRuleEntity.java:49)
	at com.origamii.infrastructure.persistent.repository.StrategyRepository.queryAwardRuleWeight(StrategyRepository.java:552)
	at com.origamii.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$cec89f21.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.origamii.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$6f9e49e3.queryAwardRuleWeight(<generated>)
	at com.origamii.domain.strategy.service.raffle.DefaultRaffleStrategy.queryAwardRuleWeight(DefaultRaffleStrategy.java:146)
	at com.origamii.domain.strategy.service.raffle.DefaultRaffleStrategy.queryAwardRuleWeightByActivityId(DefaultRaffleStrategy.java:152)
	at com.origamii.trigger.http.RaffleStrategyController.queryRaffleStrategyRuleWeight(RaffleStrategyController.java:158)
	at com.origamii.test.trigger.RaffleStrategyControllerTest.test_queryRaffleStrategyRuleWeight(RaffleStrategyControllerTest.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
24-10-24.00:27:52.761 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"origami"}
24-10-24.00:27:52.765 [main            ] INFO  RaffleStrategyControllerTest - 测试结果：{"code":"0001","info":"未知失败"}
24-10-24.00:27:52.779 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:27:52.780 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:27:52.782 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:27:53.513 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:27:53.514 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:27:53.527 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:27:53.528 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:27:53.530 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:27:53.530 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:28:42.503 [main            ] INFO  RaffleActivityControllerTest - Starting RaffleActivityControllerTest using Java 19.0.1 on Legion-R9000P with PID 16348 (started by lenovo in E:\Code\Java\big-market\big-market-app)
24-10-24.00:28:42.505 [main            ] INFO  RaffleActivityControllerTest - The following 1 profile is active: "dev"
24-10-24.00:28:43.658 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-10-24.00:28:43.660 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-10-24.00:28:43.708 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
24-10-24.00:28:44.979 [main            ] INFO  Version                - Redisson 3.23.4
24-10-24.00:28:45.412 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:28:45.432 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:28:49.096 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-10-24.00:28:49.215 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [192.168.236.132:5672]
24-10-24.00:28:49.270 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#29ccab93:0/SimpleConnection@64836643 [delegate=amqp://origami@192.168.236.132:5672/, localPort= 12169]
24-10-24.00:28:49.410 [main            ] INFO  RaffleActivityControllerTest - Started RaffleActivityControllerTest in 7.391 seconds (JVM running for 8.285)
24-10-24.00:28:49.915 [main            ] INFO  RaffleActivityController - 活动抽奖 user:origami activityId:100301
24-10-24.00:28:50.029 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:28:50.029 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:28:50.314 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:28:50.314 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:28:50.604 [main            ] INFO  RaffleActivityController - 活动抽奖 创建订单 userId:origami activityId:100301 orderId:697931079666
24-10-24.00:28:50.632 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: origami strategyId: 100006 ruleModel: rule_default awardId: 102
24-10-24.00:28:50.632 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 origami 100006 102 rule_default
24-10-24.00:28:50.633 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:28:50.676 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:28:50.855 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:origami,strategyId:100006,awardId:102
24-10-24.00:28:50.861 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-扣减库存-成功 userId:origami,strategyId:100006,awardId:102
24-10-24.00:28:50.901 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】，treeId：tree_luck_award，node：rule_stock，code：0001
24-10-24.00:28:50.901 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 origami 100006 102 
24-10-24.00:28:50.975 [main            ] ERROR RaffleActivityController - 活动抽奖失败 userId:origami activityId:100301
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'award_sub_title' in 'field list'
### The error may exist in file [E:\Code\Java\big-market\big-market-app\target\classes\mybatis\mapper\strategy_award_mapper.xml]
### The error may involve com.origamii.infrastructure.persistent.dao.IStrategyAwardDao.queryStrategyAward-Inline
### The error occurred while setting parameters
### SQL: select strategy_id,                award_id,                award_title,                award_sub_title,                award_count,                award_count_surplus,                award_rate,                rule_models,                sort         from strategy_award         where strategy_id = ?           and award_id = ?
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'award_sub_title' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'award_sub_title' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at jdk.proxy2/jdk.proxy2.$Proxy114.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:160)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy2/jdk.proxy2.$Proxy136.queryStrategyAward(Unknown Source)
	at com.origamii.infrastructure.persistent.repository.StrategyRepository.queryStrategyAwardEntity(StrategyRepository.java:439)
	at com.origamii.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$cec89f21.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.origamii.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$fc2c840a.queryStrategyAwardEntity(<generated>)
	at com.origamii.domain.strategy.service.AbstractRaffleStrategy.buildRaffleAwardEntity(AbstractRaffleStrategy.java:84)
	at com.origamii.domain.strategy.service.AbstractRaffleStrategy.performRaffle(AbstractRaffleStrategy.java:72)
	at com.origamii.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:138)
	at com.origamii.test.trigger.RaffleActivityControllerTest.test_draw(RaffleActivityControllerTest.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'award_sub_title' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy221.query(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:89)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 52 common frames omitted
24-10-24.00:28:51.131 [main            ] INFO  RaffleActivityControllerTest - 请求参数：{"activityId":100301,"userId":"origami"}
24-10-24.00:28:51.135 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0001","info":"未知失败"}
24-10-24.00:28:51.146 [main            ] INFO  RaffleActivityController - 活动装配 数据预热 开始 activityId:100301
24-10-24.00:28:51.192 [main            ] INFO  RaffleActivityController - 活动装配 数据预热 结束 activityId:100301
24-10-24.00:28:51.192 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0000","data":true,"info":"成功"}
24-10-24.00:28:51.197 [main            ] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:origami
24-10-24.00:28:51.208 [main            ] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:origami orders.size:0
24-10-24.00:28:51.210 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0000","data":false,"info":"成功"}
24-10-24.00:28:51.214 [main            ] INFO  RaffleActivityController - 查询用户活动账户信息开始 userId:origami activityId:100301
24-10-24.00:28:51.233 [main            ] INFO  RaffleActivityController - 查询用户活动账户信息完成 userId:origami activityId:100301 DTO:{"dayCount":90,"dayCountSurplus":90,"monthCount":90,"monthCountSurplus":90,"totalCount":8890,"totalCountSurplus":27}
24-10-24.00:28:51.236 [main            ] INFO  RaffleActivityControllerTest - 请求参数：{"activityId":100301,"userId":"origami"}
24-10-24.00:28:51.239 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0000","data":{"dayCount":90,"dayCountSurplus":90,"monthCount":90,"monthCountSurplus":90,"totalCount":8890,"totalCountSurplus":27},"info":"成功"}
24-10-24.00:28:51.244 [main            ] INFO  RaffleActivityController - 活动签到返利开始 userId:origami
24-10-24.00:28:51.268 [main            ] ERROR RaffleActivityController - 活动签到返利失败 userId:origami
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLException: Column count doesn't match value count at row 1
### The error may exist in file [E:\Code\Java\big-market\big-market-app\target\classes\mybatis\mapper\user_behavior_rebate_order_mapper.xml]
### The error may involve com.origamii.infrastructure.persistent.dao.IUserBehaviorRebateOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_behavior_rebate_order_000(user_id, order_id, behavior_type, rebate_desc, rebate_type,                                                rebate_config, out_business_no, biz_id, create_time, update_time)         values (?, ?, ?, ?, ?, ?,                 ? ?, now(),                 now())
### Cause: java.sql.SQLException: Column count doesn't match value count at row 1
; bad SQL grammar []; nested exception is java.sql.SQLException: Column count doesn't match value count at row 1
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:101)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at jdk.proxy2/jdk.proxy2.$Proxy114.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy2/jdk.proxy2.$Proxy144.insert(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy145.insert(Unknown Source)
	at com.origamii.infrastructure.persistent.repository.BehaviorRebateRepository.lambda$saveUserRebateRecord$0(BehaviorRebateRepository.java:97)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.origamii.infrastructure.persistent.repository.BehaviorRebateRepository.saveUserRebateRecord(BehaviorRebateRepository.java:83)
	at com.origamii.infrastructure.persistent.repository.BehaviorRebateRepository$$FastClassBySpringCGLIB$$4bf42c3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.origamii.infrastructure.persistent.repository.BehaviorRebateRepository$$EnhancerBySpringCGLIB$$783ac430.saveUserRebateRecord(<generated>)
	at com.origamii.domain.rebate.service.BehaviorRebateService.createOrder(BehaviorRebateService.java:100)
	at com.origamii.trigger.http.RaffleActivityController.calendarSignRebate(RaffleActivityController.java:202)
	at com.origamii.test.trigger.RaffleActivityControllerTest.test_calendarSignRebate(RaffleActivityControllerTest.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLException: Column count doesn't match value count at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy221.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 62 common frames omitted
24-10-24.00:28:51.270 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0001","info":"未知失败"}
24-10-24.00:28:51.282 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:28:51.283 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:28:51.284 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:28:51.402 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:28:51.403 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:28:51.403 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:28:51.405 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:28:51.405 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:28:51.405 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:31:53.474 [main            ] INFO  RaffleActivityControllerTest - Starting RaffleActivityControllerTest using Java 19.0.1 on Legion-R9000P with PID 23608 (started by lenovo in E:\Code\Java\big-market\big-market-app)
24-10-24.00:31:53.475 [main            ] INFO  RaffleActivityControllerTest - The following 1 profile is active: "dev"
24-10-24.00:31:54.604 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-10-24.00:31:54.608 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-10-24.00:31:54.659 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
24-10-24.00:31:56.083 [main            ] INFO  Version                - Redisson 3.23.4
24-10-24.00:31:56.502 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:31:56.522 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:32:00.503 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-10-24.00:32:00.608 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [192.168.236.132:5672]
24-10-24.00:32:00.665 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#33399052:0/SimpleConnection@750adad8 [delegate=amqp://origami@192.168.236.132:5672/, localPort= 12300]
24-10-24.00:32:00.803 [main            ] INFO  RaffleActivityControllerTest - Started RaffleActivityControllerTest in 7.781 seconds (JVM running for 8.634)
24-10-24.00:32:01.253 [main            ] INFO  RaffleActivityController - 活动装配 数据预热 开始 activityId:100301
24-10-24.00:32:01.300 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:32:01.543 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:32:01.725 [main            ] INFO  RaffleActivityController - 活动装配 数据预热 结束 activityId:100301
24-10-24.00:32:01.866 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0000","data":true,"info":"成功"}
24-10-24.00:32:01.883 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:32:01.886 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:32:01.889 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:32:02.807 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:32:02.808 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:32:02.811 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:32:02.813 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:32:02.814 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:32:02.814 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:32:13.065 [main            ] INFO  RaffleActivityControllerTest - Starting RaffleActivityControllerTest using Java 19.0.1 on Legion-R9000P with PID 3316 (started by lenovo in E:\Code\Java\big-market\big-market-app)
24-10-24.00:32:13.066 [main            ] INFO  RaffleActivityControllerTest - The following 1 profile is active: "dev"
24-10-24.00:32:14.217 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-10-24.00:32:14.221 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-10-24.00:32:14.271 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 0 Redis repository interfaces.
24-10-24.00:32:15.561 [main            ] INFO  Version                - Redisson 3.23.4
24-10-24.00:32:16.000 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:32:16.026 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:32:20.041 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-10-24.00:32:20.168 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [192.168.236.132:5672]
24-10-24.00:32:20.220 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#29ccab93:0/SimpleConnection@45a05350 [delegate=amqp://origami@192.168.236.132:5672/, localPort= 12329]
24-10-24.00:32:20.336 [main            ] INFO  RaffleActivityControllerTest - Started RaffleActivityControllerTest in 7.729 seconds (JVM running for 8.562)
24-10-24.00:32:20.770 [main            ] INFO  RaffleActivityController - 活动抽奖 user:origami activityId:100301
24-10-24.00:32:20.857 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:32:21.078 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:32:21.337 [main            ] INFO  AbstractRaffleActivityPartake - 创建参与活动订单【已存在 未消费】 userId:origami, activityId:100301, userRaffleOrderEntity:{"activityId":100301,"activityName":"测试活动","orderId":"697931079666","orderState":"create","orderTime":1729700930000,"strategyId":100006,"userId":"origami"}
24-10-24.00:32:21.337 [main            ] INFO  RaffleActivityController - 活动抽奖 创建订单 userId:origami activityId:100301 orderId:697931079666
24-10-24.00:32:21.368 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: origami strategyId: 100006 ruleModel: rule_default awardId: 101
24-10-24.00:32:21.369 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 origami 100006 101 rule_default
24-10-24.00:32:21.370 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:32:21.397 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:32:21.422 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:origami,strategyId:100006,awardId:101
24-10-24.00:32:21.426 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-扣减库存-成功 userId:origami,strategyId:100006,awardId:101
24-10-24.00:32:21.459 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】，treeId：tree_luck_award，node：rule_stock，code：0001
24-10-24.00:32:21.460 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 origami 100006 101 
24-10-24.00:32:21.550 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:send_award, message:{"data":{"awardId":101,"awardTitle":"随机积分","userId":"origami"},"id":"25941931244","timestamp":1729701141474}
24-10-24.00:32:21.562 [main            ] INFO  RaffleActivityControllerTest - 请求参数：{"activityId":100301,"userId":"origami"}
24-10-24.00:32:21.567 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0000","data":{"awardId":101,"awardIndex":1,"awardTitle":"随机积分"},"info":"成功"}
24-10-24.00:32:21.571 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic:send_award message:{"data":{"awardId":101,"awardTitle":"随机积分","userId":"origami"},"id":"25941931244","timestamp":1729701141474}
24-10-24.00:32:21.576 [main            ] INFO  RaffleActivityController - 活动装配 数据预热 开始 activityId:100301
24-10-24.00:32:21.607 [main            ] INFO  RaffleActivityController - 活动装配 数据预热 结束 activityId:100301
24-10-24.00:32:21.608 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0000","data":true,"info":"成功"}
24-10-24.00:32:21.612 [main            ] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:origami
24-10-24.00:32:21.620 [main            ] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:origami orders.size:0
24-10-24.00:32:21.620 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0000","data":false,"info":"成功"}
24-10-24.00:32:21.624 [main            ] INFO  RaffleActivityController - 查询用户活动账户信息开始 userId:origami activityId:100301
24-10-24.00:32:21.645 [main            ] INFO  RaffleActivityController - 查询用户活动账户信息完成 userId:origami activityId:100301 DTO:{"dayCount":90,"dayCountSurplus":90,"monthCount":90,"monthCountSurplus":90,"totalCount":8890,"totalCountSurplus":27}
24-10-24.00:32:21.646 [main            ] INFO  RaffleActivityControllerTest - 请求参数：{"activityId":100301,"userId":"origami"}
24-10-24.00:32:21.649 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0000","data":{"dayCount":90,"dayCountSurplus":90,"monthCount":90,"monthCountSurplus":90,"totalCount":8890,"totalCountSurplus":27},"info":"成功"}
24-10-24.00:32:21.652 [main            ] INFO  RaffleActivityController - 活动签到返利开始 userId:origami
24-10-24.00:32:21.741 [main            ] ERROR RaffleActivityController - 活动签到返利失败 userId:origami
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLException: Column count doesn't match value count at row 1
### The error may exist in file [E:\Code\Java\big-market\big-market-app\target\classes\mybatis\mapper\user_behavior_rebate_order_mapper.xml]
### The error may involve com.origamii.infrastructure.persistent.dao.IUserBehaviorRebateOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_behavior_rebate_order_000(user_id, order_id, behavior_type, rebate_desc, rebate_type,                                                rebate_config, out_business_no, biz_id, create_time, update_time)         values (?, ?, ?, ?, ?, ?,                 ? ?, now(),                 now())
### Cause: java.sql.SQLException: Column count doesn't match value count at row 1
; bad SQL grammar []; nested exception is java.sql.SQLException: Column count doesn't match value count at row 1
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:101)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at jdk.proxy2/jdk.proxy2.$Proxy114.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy2/jdk.proxy2.$Proxy144.insert(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy145.insert(Unknown Source)
	at com.origamii.infrastructure.persistent.repository.BehaviorRebateRepository.lambda$saveUserRebateRecord$0(BehaviorRebateRepository.java:97)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.origamii.infrastructure.persistent.repository.BehaviorRebateRepository.saveUserRebateRecord(BehaviorRebateRepository.java:83)
	at com.origamii.infrastructure.persistent.repository.BehaviorRebateRepository$$FastClassBySpringCGLIB$$4bf42c3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.origamii.infrastructure.persistent.repository.BehaviorRebateRepository$$EnhancerBySpringCGLIB$$783ac430.saveUserRebateRecord(<generated>)
	at com.origamii.domain.rebate.service.BehaviorRebateService.createOrder(BehaviorRebateService.java:100)
	at com.origamii.trigger.http.RaffleActivityController.calendarSignRebate(RaffleActivityController.java:202)
	at com.origamii.test.trigger.RaffleActivityControllerTest.test_calendarSignRebate(RaffleActivityControllerTest.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLException: Column count doesn't match value count at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy221.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 62 common frames omitted
24-10-24.00:32:21.742 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0001","info":"未知失败"}
24-10-24.00:32:21.756 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:32:21.758 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:32:21.759 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:32:22.318 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:32:22.319 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:32:22.580 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:32:22.583 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:32:22.583 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:32:22.583 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:34:15.962 [main            ] INFO  RaffleActivityControllerTest - Starting RaffleActivityControllerTest using Java 19.0.1 on Legion-R9000P with PID 28612 (started by lenovo in E:\Code\Java\big-market\big-market-app)
24-10-24.00:34:15.963 [main            ] INFO  RaffleActivityControllerTest - The following 1 profile is active: "dev"
24-10-24.00:34:17.102 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-10-24.00:34:17.105 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-10-24.00:34:17.157 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
24-10-24.00:34:18.522 [main            ] INFO  Version                - Redisson 3.23.4
24-10-24.00:34:18.944 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:34:18.961 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:34:22.984 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-10-24.00:34:23.048 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [192.168.236.132:5672]
24-10-24.00:34:23.111 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#33399052:0/SimpleConnection@41935a9d [delegate=amqp://origami@192.168.236.132:5672/, localPort= 12508]
24-10-24.00:34:23.232 [main            ] INFO  RaffleActivityControllerTest - Started RaffleActivityControllerTest in 7.742 seconds (JVM running for 8.608)
24-10-24.00:34:23.661 [main            ] INFO  RaffleActivityController - 查询用户活动账户信息开始 userId:origami activityId:100301
24-10-24.00:34:23.714 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:34:23.988 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:34:24.172 [main            ] INFO  RaffleActivityController - 查询用户活动账户信息完成 userId:origami activityId:100301 DTO:{"dayCount":90,"dayCountSurplus":90,"monthCount":90,"monthCountSurplus":90,"totalCount":8890,"totalCountSurplus":27}
24-10-24.00:34:24.195 [main            ] INFO  RaffleActivityControllerTest - 请求参数：{"activityId":100301,"userId":"origami"}
24-10-24.00:34:24.202 [main            ] INFO  RaffleActivityControllerTest - 测试结果：{"code":"0000","data":{"dayCount":90,"dayCountSurplus":90,"monthCount":90,"monthCountSurplus":90,"totalCount":8890,"totalCountSurplus":27},"info":"成功"}
24-10-24.00:34:24.229 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:34:24.230 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:34:24.232 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:34:25.058 [scheduling-1    ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:34:25.080 [scheduling-1    ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:34:25.103 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:34:25.119 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:34:25.213 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:34:25.227 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:34:25.241 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:34:25.243 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:34:25.244 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:34:25.244 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:35:00.438 [main            ] INFO  RaffleStrategyControllerTest - Starting RaffleStrategyControllerTest using Java 19.0.1 on Legion-R9000P with PID 29920 (started by lenovo in E:\Code\Java\big-market\big-market-app)
24-10-24.00:35:00.439 [main            ] INFO  RaffleStrategyControllerTest - The following 1 profile is active: "dev"
24-10-24.00:35:01.525 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-10-24.00:35:01.528 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-10-24.00:35:01.574 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
24-10-24.00:35:02.930 [main            ] INFO  Version                - Redisson 3.23.4
24-10-24.00:35:03.359 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:35:03.378 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:35:07.360 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-10-24.00:35:07.423 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [192.168.236.132:5672]
24-10-24.00:35:07.468 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#29ccab93:0/SimpleConnection@74ed7111 [delegate=amqp://origami@192.168.236.132:5672/, localPort= 12564]
24-10-24.00:35:07.593 [main            ] INFO  RaffleStrategyControllerTest - Started RaffleStrategyControllerTest in 7.629 seconds (JVM running for 8.514)
24-10-24.00:35:08.059 [main            ] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 activityId: 100301
24-10-24.00:35:08.111 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:35:08.367 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:35:08.406 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:35:08.435 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:35:08.476 [main            ] ERROR RaffleStrategyController - 查询抽奖策略权重规则配置失败 userId:origami activityId：100301
java.lang.NullPointerException: Cannot invoke "String.split(String)" because "this.ruleValue" is null
	at com.origamii.domain.strategy.model.entity.StrategyRuleEntity.getRuleWeightValues(StrategyRuleEntity.java:49)
	at com.origamii.infrastructure.persistent.repository.StrategyRepository.queryAwardRuleWeight(StrategyRepository.java:552)
	at com.origamii.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$cec89f21.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.origamii.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$fc2c840a.queryAwardRuleWeight(<generated>)
	at com.origamii.domain.strategy.service.raffle.DefaultRaffleStrategy.queryAwardRuleWeight(DefaultRaffleStrategy.java:146)
	at com.origamii.domain.strategy.service.raffle.DefaultRaffleStrategy.queryAwardRuleWeightByActivityId(DefaultRaffleStrategy.java:152)
	at com.origamii.trigger.http.RaffleStrategyController.queryRaffleStrategyRuleWeight(RaffleStrategyController.java:158)
	at com.origamii.test.trigger.RaffleStrategyControllerTest.test_queryRaffleStrategyRuleWeight(RaffleStrategyControllerTest.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
24-10-24.00:35:08.814 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"origami"}
24-10-24.00:35:08.817 [main            ] INFO  RaffleStrategyControllerTest - 测试结果：{"code":"0001","info":"未知失败"}
24-10-24.00:35:08.827 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:origami activityId：100301
24-10-24.00:35:08.881 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:origami activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnlockCount":0},{"awardId":102,"awardTitle":"7等奖","isAwardUnlock":true,"sort":2,"waitUnlockCount":0},{"awardId":103,"awardTitle":"6等奖","isAwardUnlock":true,"sort":3,"waitUnlockCount":0},{"awardId":104,"awardTitle":"5等奖","isAwardUnlock":true,"sort":4,"waitUnlockCount":0},{"awardId":105,"awardTitle":"4等奖","isAwardUnlock":true,"sort":5,"waitUnlockCount":0},{"awardId":106,"awardSubTitle":"抽奖1次后解锁","awardTitle":"3等奖","isAwardUnlock":true,"sort":6,"waitUnlockCount":0},{"awardId":107,"awardSubTitle":"抽奖1次后解锁","awardTitle":"2等奖","isAwardUnlock":true,"sort":7,"waitUnlockCount":0},{"awardId":108,"awardSubTitle":"抽奖2次后解锁","awardTitle":"1等奖","isAwardUnlock":true,"sort":8,"waitUnlockCount":0}],"info":"成功"}
24-10-24.00:35:08.884 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"origami"}
24-10-24.00:35:08.885 [main            ] INFO  RaffleStrategyControllerTest - 响应结果：{"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnlockCount":0},{"awardId":102,"awardTitle":"7等奖","isAwardUnlock":true,"sort":2,"waitUnlockCount":0},{"awardId":103,"awardTitle":"6等奖","isAwardUnlock":true,"sort":3,"waitUnlockCount":0},{"awardId":104,"awardTitle":"5等奖","isAwardUnlock":true,"sort":4,"waitUnlockCount":0},{"awardId":105,"awardTitle":"4等奖","isAwardUnlock":true,"sort":5,"waitUnlockCount":0},{"awardId":106,"awardSubTitle":"抽奖1次后解锁","awardTitle":"3等奖","isAwardUnlock":true,"sort":6,"waitUnlockCount":0},{"awardId":107,"awardSubTitle":"抽奖1次后解锁","awardTitle":"2等奖","isAwardUnlock":true,"sort":7,"waitUnlockCount":0},{"awardId":108,"awardSubTitle":"抽奖2次后解锁","awardTitle":"1等奖","isAwardUnlock":true,"sort":8,"waitUnlockCount":0}],"info":"成功"}
24-10-24.00:35:08.900 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:35:08.901 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:35:08.902 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:35:09.579 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:35:09.582 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:35:09.582 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:35:09.585 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:35:09.585 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:35:09.585 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:38:05.055 [main            ] INFO  RaffleStrategyControllerTest - Starting RaffleStrategyControllerTest using Java 19.0.1 on Legion-R9000P with PID 28616 (started by lenovo in E:\Code\Java\big-market\big-market-app)
24-10-24.00:38:05.055 [main            ] INFO  RaffleStrategyControllerTest - The following 1 profile is active: "dev"
24-10-24.00:38:06.217 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-10-24.00:38:06.220 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-10-24.00:38:06.266 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
24-10-24.00:38:07.590 [main            ] INFO  Version                - Redisson 3.23.4
24-10-24.00:38:08.020 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:38:08.038 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.236.132/192.168.236.132:16379
24-10-24.00:38:12.130 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-10-24.00:38:12.270 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [192.168.236.132:5672]
24-10-24.00:38:12.327 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#29ccab93:0/SimpleConnection@7d6a9d5e [delegate=amqp://origami@192.168.236.132:5672/, localPort= 12660]
24-10-24.00:38:12.440 [main            ] INFO  RaffleStrategyControllerTest - Started RaffleStrategyControllerTest in 7.855 seconds (JVM running for 8.662)
24-10-24.00:38:12.869 [main            ] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 activityId: 100301
24-10-24.00:38:12.918 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:38:13.157 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:38:13.194 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-10-24.00:38:13.231 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-10-24.00:38:13.297 [main            ] ERROR RaffleStrategyController - 查询抽奖策略权重规则配置失败 userId:origami activityId：100301
java.lang.NullPointerException: Cannot invoke "String.split(String)" because "this.ruleValue" is null
	at com.origamii.domain.strategy.model.entity.StrategyRuleEntity.getRuleWeightValues(StrategyRuleEntity.java:49)
	at com.origamii.infrastructure.persistent.repository.StrategyRepository.queryAwardRuleWeight(StrategyRepository.java:552)
	at com.origamii.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$cec89f21.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.origamii.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$fc2c840a.queryAwardRuleWeight(<generated>)
	at com.origamii.domain.strategy.service.raffle.DefaultRaffleStrategy.queryAwardRuleWeight(DefaultRaffleStrategy.java:146)
	at com.origamii.domain.strategy.service.raffle.DefaultRaffleStrategy.queryAwardRuleWeightByActivityId(DefaultRaffleStrategy.java:152)
	at com.origamii.trigger.http.RaffleStrategyController.queryRaffleStrategyRuleWeight(RaffleStrategyController.java:158)
	at com.origamii.test.trigger.RaffleStrategyControllerTest.test_queryRaffleStrategyRuleWeight(RaffleStrategyControllerTest.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
24-10-24.00:38:13.487 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"origami"}
24-10-24.00:38:13.491 [main            ] INFO  RaffleStrategyControllerTest - 测试结果：{"code":"0001","info":"未知失败"}
24-10-24.00:38:13.501 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:origami activityId：100301
24-10-24.00:38:13.583 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:origami activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnlockCount":0},{"awardId":102,"awardTitle":"7等奖","isAwardUnlock":true,"sort":2,"waitUnlockCount":0},{"awardId":103,"awardTitle":"6等奖","isAwardUnlock":true,"sort":3,"waitUnlockCount":0},{"awardId":104,"awardTitle":"5等奖","isAwardUnlock":true,"sort":4,"waitUnlockCount":0},{"awardId":105,"awardTitle":"4等奖","isAwardUnlock":true,"sort":5,"waitUnlockCount":0},{"awardId":106,"awardSubTitle":"抽奖1次后解锁","awardTitle":"3等奖","isAwardUnlock":true,"sort":6,"waitUnlockCount":0},{"awardId":107,"awardSubTitle":"抽奖1次后解锁","awardTitle":"2等奖","isAwardUnlock":true,"sort":7,"waitUnlockCount":0},{"awardId":108,"awardSubTitle":"抽奖2次后解锁","awardTitle":"1等奖","isAwardUnlock":true,"sort":8,"waitUnlockCount":0}],"info":"成功"}
24-10-24.00:38:13.588 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"origami"}
24-10-24.00:38:13.589 [main            ] INFO  RaffleStrategyControllerTest - 响应结果：{"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnlockCount":0},{"awardId":102,"awardTitle":"7等奖","isAwardUnlock":true,"sort":2,"waitUnlockCount":0},{"awardId":103,"awardTitle":"6等奖","isAwardUnlock":true,"sort":3,"waitUnlockCount":0},{"awardId":104,"awardTitle":"5等奖","isAwardUnlock":true,"sort":4,"waitUnlockCount":0},{"awardId":105,"awardTitle":"4等奖","isAwardUnlock":true,"sort":5,"waitUnlockCount":0},{"awardId":106,"awardSubTitle":"抽奖1次后解锁","awardTitle":"3等奖","isAwardUnlock":true,"sort":6,"waitUnlockCount":0},{"awardId":107,"awardSubTitle":"抽奖1次后解锁","awardTitle":"2等奖","isAwardUnlock":true,"sort":7,"waitUnlockCount":0},{"awardId":108,"awardSubTitle":"抽奖2次后解锁","awardTitle":"1等奖","isAwardUnlock":true,"sort":8,"waitUnlockCount":0}],"info":"成功"}
24-10-24.00:38:13.602 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:38:13.604 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:38:13.607 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-10-24.00:38:14.437 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:38:14.437 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:38:14.437 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-10-24.00:38:14.439 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:38:14.439 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-10-24.00:38:14.439 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
