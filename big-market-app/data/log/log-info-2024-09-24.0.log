24-09-24.15:08:26.789 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 19.0.1 on Legion-R9000P with PID 26976 (started by lenovo in E:\Code\Java\big-market\big-market-app)
24-09-24.15:08:26.790 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-09-24.15:08:27.856 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-24.15:08:27.863 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-24.15:08:27.906 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
24-09-24.15:08:29.707 [main            ] INFO  Version                - Redisson 3.23.4
24-09-24.15:08:53.373 [main            ] WARN  GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'IRaffleController': Unsatisfied dependency expressed through field 'strategyArmory'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'strategyArmoryDispatch': Unsatisfied dependency expressed through field 'repository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'strategyRepository': Unsatisfied dependency expressed through field 'redisService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redissonService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redissonClient' defined in class path resource [com/origamii/config/RedisClientConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.redisson.api.RedissonClient]: Factory method 'redissonClient' threw exception; nested exception is org.redisson.client.RedisConnectionException: Unable to connect to Redis server: 192.168.236.132/192.168.236.132:16379
24-09-24.15:09:44.061 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 19.0.1 on Legion-R9000P with PID 27424 (started by lenovo in E:\Code\Java\big-market\big-market-app)
24-09-24.15:09:44.062 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-09-24.15:09:45.051 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-24.15:09:45.054 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-24.15:09:45.090 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
24-09-24.15:09:46.620 [main            ] INFO  Version                - Redisson 3.23.4
24-09-24.15:09:47.222 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.236.132/192.168.236.132:16379
24-09-24.15:09:47.310 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.236.132/192.168.236.132:16379
24-09-24.15:09:49.671 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-24.15:09:49.777 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 6.196 seconds (JVM running for 7.128)
24-09-24.15:09:50.015 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取】
24-09-24.15:09:50.400 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-09-24.15:09:51.599 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-09-24.15:09:54.026 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-09-24.15:09:54.102 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-09-24.15:09:54.126 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-09-24.15:09:54.170 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-09-24.15:09:54.294 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-09-24.15:09:54.322 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-09-24.15:09:54.336 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: origami strategyId: 100006 ruleModel: rule_default awardId: 102
24-09-24.15:09:54.337 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 origami 100006 102 rule_default
24-09-24.15:09:54.373 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:origami,strategyId:100006,awardId:102
24-09-24.15:09:54.374 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】，treeId：tree_lock，node：rule_lock，code：0000
24-09-24.15:09:54.374 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:origami,strategyId:100006,awardId:102
24-09-24.15:09:54.390 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-扣减库存-成功 userId:origami,strategyId:100006,awardId:102
24-09-24.15:09:54.442 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】，treeId：tree_lock，node：rule_stock，code：0001
24-09-24.15:09:54.442 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:origami,strategyId:100006,awardId:102,ruleValue:101:1,100
24-09-24.15:09:54.442 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:origami,strategyId:100006,awardId:102,luckAwardId:101,awardRuleValue:1,100
24-09-24.15:09:54.442 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】，treeId：tree_lock，node：rule_luck_award，code：0001
24-09-24.15:09:54.442 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 origami 100006 101 1,100
24-09-24.15:09:54.631 [main            ] INFO  RaffleStrategyTest     - 请求参数:{"strategyId":100006,"userId":"origami"}
24-09-24.15:09:54.634 [main            ] INFO  RaffleStrategyTest     - 抽奖结果:{"awardConfig":"1,100","awardId":101,"sort":1}
24-09-24.15:09:55.014 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取】
24-09-24.15:10:00.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取】
24-09-24.15:10:00.113 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-09-24.15:10:05.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取】
24-09-24.15:10:07.865 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-09-24.15:10:08.060 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
